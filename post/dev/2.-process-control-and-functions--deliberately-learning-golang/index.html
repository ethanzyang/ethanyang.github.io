<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=msapplication-TileImage content="/ms-icon-144x144.png"><meta name=msapplication-TileColor content="#1793d0"><meta name=theme-color content="#1793d0"><title>2. 流程控制 与 函数 |《 刻意学习 Golang 》 | Jerrkill - 为学日益为道日损</title><meta property="og:title" content="2. 流程控制 与 函数  |《 刻意学习 Golang 》 - Jerrkill - 为学日益为道日损"><meta property="og:type" content="article"><meta property="article:published_time" content="2019-03-07T01:16:00+08:00"><meta property="article:modified_time" content="2019-03-07T01:16:00+08:00"><meta name=keywords content="Blog,Golang,PHP,blockchain,trading,life"><meta name=description content="2. 流程控制 与 函数  |《 刻意学习 Golang 》"><meta name=author content><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=96x96 href=/favicon-96x96.png><link rel=icon type=image/png sizes=192x192 href=/android-icon-192x192.png><link rel=apple-touch-icon sizes=57x57 href=/apple-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=/apple-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=/apple-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=/apple-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=/apple-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=/apple-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=/apple-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=/apple-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=/apple-icon-180x180.png><link rel=stylesheet type=text/css href=/css/hulga.min.css><link rel=stylesheet type=text/css href=/css/hulga-dark.min.css media="(prefers-color-scheme: dark)"><link rel=manifest href=/manifest.json></head><body><div id=main><section class="hero is-primary shadow-hero"><div class=hero-head><nav class="navbar is-primary"><div class=container><div class=navbar-brand><a class=navbar-item href=/>Jerrkill - 为学日益为道日损</a>
<a role=button class=navbar-burger data-target=navMenu aria-label=menu aria-expanded=false><span aria-hidden=true></span>
<span aria-hidden=true></span>
<span aria-hidden=true></span></a></div><div class=navbar-menu id=navMenu><div class=navbar-end><a class=navbar-item href=/ title=index>首页</a>
<a class=navbar-item href=/archives/ title=archives>归档</a>
<a class=navbar-item href=/tags/ title=tags>标签</a>
<a class=navbar-item href=/categories/ title=categories>类别</a>
<a class=navbar-item href=/about/ title=about>关于</a></div></div></div></nav></div><div class=hero-body><header class="container has-text-centered"><h1 class="title post-title">2. 流程控制 与 函数 |《 刻意学习 Golang 》</h1><h2 class=subtitle><time class=post-meta>2019/03/07</time> ・
<span class="post-tag post-meta"><a href=/categories/dev>Dev</a></span></h2><div class="tagbox post-meta"><span class=post-tag><a href=/tags/golang>#golang</a></span>
<span class=post-tag><a href=/tags/%E5%88%BB%E6%84%8F%E5%AD%A6%E4%B9%A0golang>#刻意学习Golang</a></span></div></header></div></section><section class=section><div class=container><div class=columns><div class="column is-1 is-hidden-mobile"></div><div class="column is-8"><article class=content id=post-content><h1 id=golang>golang</h1><p>起源：学习 golang 笔记，看到 <a href=https://learnku.com/users/1>@Summer</a> 的刻意练习、每日精进后，收益匪浅。编程就是需要刻意练习。坚持用此方法把 golang 看完。
书写思路说明：对比 php，理解 Go 的特性，然后代码示例加深理解，并进行刻意的练习达到精进</p><h2 id=go-基础>Go 基础</h2><h2 id=流程控制和函数>流程控制和函数</h2><p>Go 中流程控制有三大类：条件判断、循环控制、无条件跳转</p><ul><li>if</li><li>goto</li><li>for</li><li>switch</li></ul><h3 id=if>if</h3><ul><li>不需要<code>()</code></li><li>允许声明变量「作用域只在条件逻辑内」</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=k>if</span> <span class=nx>a</span> <span class=p>&gt;</span> <span class=nx>b</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// 声明变量
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>if</span> <span class=nx>x</span> <span class=o>:=</span> <span class=nf>computedValue</span><span class=p>();</span> <span class=nx>x</span> <span class=p>&gt;</span> <span class=mi>10</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;x is greater than 10&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;x is less than 10&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// 多个条件
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>if</span> <span class=nx>a</span> <span class=p>&gt;</span> <span class=mi>4</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=nx>a</span> <span class=p>&lt;</span> <span class=mi>5</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></div><h3 id=goto>goto</h3><p>跳转到必须在当前函数定义的标签</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>myFunc</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>i</span> <span class=o>:=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=nx>Hear</span><span class=p>:</span>   <span class=c1>// 这行的第一个词，以冒号结束作为标签
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>i</span><span class=o>++</span>
</span></span><span class=line><span class=cl>    <span class=k>goto</span> <span class=nx>Hear</span>   <span class=c1>// 跳转到 Hear 去「大小写敏感」
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></div><h3 id=for>for</h3><p>go 中的 for 的三大用处</p><ul><li>循环读取数据<code>map</code> <code>slice</code> = php 的 foreach</li><li>while 来控制逻辑 = php 的 while</li><li>迭代操作 = php 的 for</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// foreach
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>for</span> <span class=nx>k</span><span class=p>,</span> <span class=nx>v</span> <span class=o>:=</span> <span class=k>range</span> <span class=kd>map</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;map&#39;s key is &#34;</span><span class=p>,</span> <span class=nx>k</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;map&#39;s value is &#34;</span><span class=p>,</span> <span class=nx>v</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>//由于 Go 支持 “多值返回”, 而对于“声明而未被调用”的变量, 编译器会报错, 在这种情况下, 可以使用 _ 来丢弃不需要的返回值
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>for</span> <span class=nx>_</span><span class=p>,</span> <span class=nx>v</span> <span class=o>:=</span> <span class=k>range</span> <span class=kd>map</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// while
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>sum</span> <span class=o>:=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=nx>sum</span> <span class=p>&lt;</span> <span class=mi>100</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>sum</span> <span class=o>+=</span> <span class=nx>sum</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// for
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>sum</span> <span class=o>:=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=nx>i</span> <span class=o>:=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=p>&lt;</span> <span class=mi>10</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>sum</span> <span class=o>+=</span> <span class=nx>i</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=switch>switch</h3><p>与 Php 比较</p><ul><li>case 的数据类型必须一致</li><li>表达式不必是常量或者整数，可以没有表达式就找 true</li><li>自带 break</li><li>支持多值聚合在一个 case 里面</li><li><code>fallthrough</code> 强制执行下一个 case</li><li><code>case</code> 里面不能有重复条件</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>i</span> <span class=o>:=</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl><span class=k>switch</span> <span class=nx>i</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>case</span> <span class=mi>10</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;i match 10&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>fallthrough</span> <span class=c1>// 强制执行下一个 case
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>case</span> <span class=nx>i</span><span class=o>*</span><span class=mi>2</span> <span class=o>-</span> <span class=mi>10</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;表达式&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>fallthrough</span>
</span></span><span class=line><span class=cl><span class=k>case</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>:</span> <span class=c1>// 不能有重复条件 如果有 10 就会报错
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;多值聚合 i is 1 2 or 10&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>fallthrough</span>
</span></span><span class=line><span class=cl><span class=k>case</span> <span class=nx>i</span> <span class=o>==</span> <span class=mi>10</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;bool 类型会报错&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>fallthrough</span>
</span></span><span class=line><span class=cl><span class=k>case</span> <span class=mi>4</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;默认就有 break 的&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>default</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;default&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=函数>函数</h2><p>与 Php 不一样的地方</p><ul><li>关键字 func</li><li>参数 & 返回值需要指定类型 <code>name type</code></li><li>多返回值</li><li>变参</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// 多返回值1 参数相同类型可以简写
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=nf>sumAndProduct</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span> <span class=kt>int</span><span class=p>)</span> <span class=p>(</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span><span class=p>,</span> <span class=nx>a</span> <span class=o>*</span> <span class=nx>b</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// 多返回值2
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=nf>sumAndProduct</span><span class=p>(</span><span class=nx>a</span> <span class=kt>int</span><span class=p>,</span> <span class=nx>b</span> <span class=kt>int</span><span class=p>)</span> <span class=p>(</span><span class=nx>sum</span> <span class=kt>int</span><span class=p>,</span> <span class=nx>product</span> <span class=kt>int</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>sum</span> <span class=p>=</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span>
</span></span><span class=line><span class=cl>    <span class=nx>product</span> <span class=p>=</span> <span class=nx>a</span> <span class=o>*</span> <span class=nx>b</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// 变参
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=nf>myfunc</span><span class=p>(</span><span class=nx>arg</span> <span class=o>...</span><span class=kt>int</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=nx>_</span><span class=p>,</span> <span class=nx>n</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>arg</span> <span class=p>{</span> <span class=c1>// arg 是一个int 的 slice
</span></span></span><span class=line><span class=cl><span class=c1></span>        
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=传值与传指针>传值与传指针</h3><p>PHP 一样，传值是传值的 copy, & 传地址。<br>不同的是：<br>channel，slice，map这三种类型的实现机制类似指针，所以可以直接传递，而不用取地址后传递指针</p><h3 id=defer>defer</h3><p>Php 中没有</p><p>作用：defer 后指定的函数会在函数退出前调用。多个 defer 调用顺序后进后出「栈」</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>ReadWrite</span><span class=p>()</span> <span class=kt>bool</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>file</span><span class=p>.</span><span class=nf>Open</span><span class=p>(</span><span class=s>&#34;file&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>defer</span> <span class=nx>file</span><span class=p>.</span><span class=nb>close</span><span class=p>()</span> <span class=c1>// 函数退出前这里会被调用执行
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span> <span class=nx>FailureX</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=函数作为值类型>函数作为值类型</h3><p>函数当做值来传递</p><ul><li>声明函数类型 = 定义数据类型</li><li>实现函数类型 = 实现数据类型</li><li>通过类型跟函数名 = 声明一个变量</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>type</span> <span class=nx>testInt</span> <span class=kd>func</span><span class=p>(</span><span class=kt>int</span><span class=p>)</span> <span class=kt>bool</span> <span class=c1>// 声明类型
</span></span></span><span class=line><span class=cl><span class=c1>// 类型的实现
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=nf>isTwo</span><span class=p>(</span><span class=nx>integer</span> <span class=kt>int</span><span class=p>)</span> <span class=kt>bool</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>integer</span> <span class=o>%</span> <span class=mi>2</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// 类型的实现
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=nf>isFive</span><span class=p>(</span><span class=nx>integer</span> <span class=kt>int</span><span class=p>)</span> <span class=kt>bool</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>integer</span> <span class=o>%</span> <span class=mi>5</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// 声明参数函数类型
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=nf>filter</span><span class=p>(</span><span class=nx>slice</span> <span class=p>[]</span><span class=kt>int</span><span class=p>,</span> <span class=nx>f</span> <span class=nx>testInt</span><span class=p>)</span> <span class=p>[]</span><span class=kt>int</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>result</span> <span class=p>=</span> <span class=p>[]</span><span class=kt>int</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=nx>_</span><span class=p>,</span> <span class=nx>value</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>slice</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=nf>f</span><span class=p>(</span><span class=nx>value</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>result</span> <span class=p>=</span> <span class=nb>append</span><span class=p>(</span><span class=nx>result</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>result</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>slice</span> <span class=o>:=</span> <span class=p>[]</span><span class=kt>int</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>9</span><span class=p>,</span> <span class=mi>10</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;slice = &#34;</span><span class=p>,</span> <span class=nx>slice</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>two</span> <span class=o>:=</span> <span class=nf>filter</span><span class=p>(</span><span class=nx>slice</span><span class=p>,</span> <span class=nx>isTwo</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>five</span> <span class=o>:=</span> <span class=nf>filter</span><span class=p>(</span><span class=nx>slice</span><span class=p>,</span> <span class=nx>isFive</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;倍 2 整除的:&#34;</span><span class=p>,</span> <span class=nx>two</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;被 5 整除的:&#34;</span><span class=p>,</span> <span class=nx>five</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=panic-和-recover>Panic 和 Recover</h3><p>Go 没有 <code>try catch</code><br>用的 <code>Panic</code> <code>Recover</code></p><ul><li>Panic 中断流程，并退出，延时函数继续执行</li><li>Recover 可以捕获 Panic 中的参数</li></ul><h3 id=main-函数和-init-函数>main 函数和 init 函数</h3><p>引用图片
<img src=https://cdn.learnku.com/uploads/images/201903/07/23174/YbC1ewIcni.png!large alt></p><h3 id=import>import</h3><p>与 PHP 对比<br>类似于 <code>include</code> <code>require</code></p><ul><li>绝对路径 相对于 <code>GOROOT</code> 目录</li><li>相对路径跟 PHP 一样，但不推荐使用</li><li><code>.</code> 操作</li><li>别名操作:顾名思义</li><li><code>_</code> 操作:不导入包而是调用包的 <code>init()</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// . 操作 可以省略前缀的包名
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span> <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;hello world&#34;</span><span class=p>)</span> <span class=err>可以省略的写成</span> <span class=nf>Println</span><span class=p>(</span><span class=s>&#34;hello world&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>// 别名
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kn>import</span> <span class=nx>f</span> <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>f</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;hello world&#34;</span><span class=p>)</span>
</span></span></code></pre></div><blockquote><p>本系列文章采用《<a href=https://creativecommons.org/licenses/by-nc-nd/4.0/legalcode.zh-Hans>CC 协议</a> 协议》转载必须注明作者和文本链接</p></blockquote></article></div><div class="column is-hidden-mobile"><div class=sidebar id=toc><div class="post post-toc" id=post-toc></div></div></div></div></div></div></section></div><footer class=footer><div class="content has-text-centered"><p>Powered by <a href=https://gohugo.io>Hugo</a>. Theme <a href=https://www.github.com/wlh320/hugo-theme-hulga>Hulga</a></p><p>Copyright © 2022 jerrkill. All rights reserved.</p></div></footer><script src=https://jerrkill.github.io/js/pwa.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js></script><script>addBackToTop({diameter:42,backgroundColor:"#1793d0",innerHTML:'<svg viewBox="0 0 24 24"><path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"/></svg>',textColor:"#fff"})</script>
<script type=text/javascript>document.addEventListener("DOMContentLoaded",()=>{const e=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);e.length>0&&e.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.target,n=document.getElementById(t);e.classList.toggle("is-active"),n.classList.toggle("is-active")})})})</script><link id=hlcss rel=stylesheet type=text/css><script>function addCss(e){var t=document.getElementById("hlcss");t.href=e}var darkcss="https://jerrkill.github.io/css/monokai.css",lightcss="https://jerrkill.github.io/css/monokailight.css";window.matchMedia("(prefers-color-scheme)").media==="not all"?addCss(lightcss):addCss(window.matchMedia("(prefers-color-scheme: dark)").matches?darkcss:lightcss),window.matchMedia("(prefers-color-scheme: dark)").addListener(e=>e.matches&&addCss(darkcss)),window.matchMedia("(prefers-color-scheme: light)").addListener(e=>e.matches&&addCss(lightcss))</script><script src=https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js></script><script>anchors.options={placement:"left",icon:"#"},anchors.add(".content h1, .content h2, .content h3")</script>
<link rel=stylesheet type=text/css href=https://jerrkill.github.io/css/toc.min.css><script src=https://cdn.jsdelivr.net/npm/tocbot@4.12.0/dist/tocbot.min.js></script>
<script>tocbot.init({tocSelector:".post-toc",contentSelector:"#post-content",headingSelector:"h1, h2, h3",collapseDepth:0,scrollSmooth:!0,positionFixedSelector:".post-toc",fixedSidebarOffset:273})</script></body></html>